from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship, declarative_base


Base = declarative_base()

"""3
La clase Band representa una banda musical dentro del sistema. Cada instancia de esta clase corresponde a una banda específica, 
almacenando información relevante como su nombre y la relación con sus álbumes. Esta clase está mapeada a la tabla 'bands' en 
la base de datos y permite gestionar la información de las bandas, así como acceder a todos los álbumes asociados a cada banda 
mediante una relación uno a muchos.
"""
class Inventor(Base):
    __tablename__ = 'Inventors'
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(255), nullable=False)
    price = Column(Decimal(10, 2), nullable=False)
    stock = Column(Int, nullable=False)
    invents = relationship('Album', back_populates='band', cascade='all, delete-orphan')

"""
La clase Album representa un álbum musical que pertenece a una banda. Cada instancia de esta clase corresponde a un álbum específico, 
almacenando información como el título y la referencia a la banda a la que pertenece. Esta clase está mapeada a la tabla 'albums' en 
la base de datos y permite gestionar los álbumes, así como establecer la relación de pertenencia con una banda mediante una clave foránea.
"""
class Category(Base):
    __tablename__ = 'albums'
    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(255), nullable=False)
    band_id = Column(Integer, ForeignKey('bands.id'))
    band = relationship('Inventor', back_populates='invents')